<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prathamesh S. Damle - AI-Powered Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #3b82f6;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --card-bg: #f9fafb;
            --border-color: #e5e7eb;
            --sidebar-bg: #f3f4f6;
            --hover-bg: #f3f4f6;
        }

        [data-theme="dark"] {
            --bg-color: #111827;
            --text-color: #f9fafb;
            --card-bg: #1f2937;
            --border-color: #374151;
            --sidebar-bg: #1f2937;
            --hover-bg: #374151;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            padding: 15px;
            border-right: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
        }

        .sidebar.collapsed {
            width: 70px;
        }
        .sidebar.collapsed .sidebar-header {
            justify-content: center;
            position: relative;
            margin-bottom: 25px;
        }
        .sidebar.collapsed .nav-text,
        .sidebar.collapsed .accent-color,
        .sidebar.collapsed .recent-searches {
            display: none;
        }
        .sidebar.collapsed .nav-link {
            justify-content: center;
            padding: 15px 8px;
        }
        .sidebar.collapsed .collapse-btn {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 0 auto;
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            position: static;
            transform: none;
            margin: 0 auto;
            display: block;
        }


        .sidebar.collapsed .collapse-btn i:before {
            content: "\f0c9";
        }

        .sidebar:not(.collapsed) .collapse-btn i:before {
            content: "\f00d";
        }
        .sidebar.collapsed .nav-link.active {
            background-color: var(--primary-color);
            color: white;
            transform: none;
            border-radius: 12px;
        }
        .sidebar.collapsed .nav-link:hover {
            background-color: var(--primary-color);
            color: white;
            transform: none;
            border-radius: 12px;
        }
        .sidebar.collapsed .logo {
            display: none;
        }
        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 18px;
        }

        .collapse-btn {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
            font-size: 16px;
        }

        .collapse-btn:hover {
            background-color: var(--hover-bg);
        }

        .accent-color {
            margin-bottom: 20px;
        }

        .accent-color label {
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }

        .accent-color select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .nav-menu {
            list-style: none;
            margin-bottom: 20px;
        }

        .nav-item {
            margin-bottom: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            text-decoration: none;
            color: var(--text-color);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-link:hover,
        .nav-link.active {
            background-color: var(--primary-color);
            color: white;
            transform: translateX(5px);
        }

        .recent-searches {
            margin-top: auto;
        }

        .recent-searches h4 {
            font-size: 14px;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .recent-search {
            font-size: 12px;
            padding: 6px;
            margin-bottom: 4px;
            background-color: var(--card-bg);
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .recent-search:hover {
            background-color: var(--hover-bg);
        }

        .main-content {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .chat-header h3 {
            margin: 0;
            font-size: 18px;
            color: var(--text-color);
        }

        .chat-close-btn {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background-color 0.3s ease;
            font-size: 16px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .profile-initials {
            font-size: 32px;
            font-weight: bold;
            color: white;
        }
        .chat-close-btn:hover {
            background-color: var(--hover-bg);
        }
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        .profile-section {
            text-align: center;
            margin-bottom: 25px;
        }

        .profile-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .profile-name {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 6px;
        }

        .profile-title {
            font-size: 16px;
            color: var(--primary-color);
            margin-bottom: 20px;
            min-height: 25px;
        }

        .chat-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .chat-prompt {
            font-size: 18px;
            text-align: center;
            margin-bottom: 15px;
        }

        .chat-input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .chat-input {
            width: 100%;
            padding: 12px 50px 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 16px;
            background-color: var(--card-bg);
            color: var(--text-color);
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .chat-submit {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .chat-submit:hover {
            transform: translateY(-50%) scale(1.1);
        }

        .suggested-questions {
            margin-bottom: 20px;
        }

        .suggested-questions h3 {
            margin-bottom: 15px;
            text-align: center;
        }
        .suggested-question {
            background-color: #f0f4ff;
            border-radius: 20px;
            padding: 8px 16px;
            margin: 5px;
            cursor: pointer;
            display: inline-block;
            transition: all 0.3s;
        }
        
        .suggested-question:hover {
            background-color: #3b82f6;
            color: white;
        }
        
        .conversation-starter {
            text-align: center;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
            margin: 15px 0;
        }
        .question-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .question-chip {
            padding: 8px 16px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .question-chip:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background-color: var(--card-bg);
            padding: 13px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: 120px;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .stat-icon {
            font-size: 28px;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        .stat-number {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .social-link:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .skill-category {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .skill-category h3 {
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        .skill-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--bg-color);
            border-radius: 8px;
            transition: transform 0.3s ease;
        }

        .skill-item:hover {
            transform: translateX(5px);
        }

        .skill-icon {
            font-size: 24px;
            color: var(--primary-color);
            width: 30px;
            text-align: center;
        }
        .education-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        .skill-info h4 {
            margin-bottom: 5px;
        }

        .skill-level {
            font-size: 12px;
            color: var(--primary-color);
            font-weight: bold;
        }

        .skill-years {
            font-size: 12px;
            color: #6b7280;
        }

        .experience-timeline {
            position: relative;
            margin: 30px 0;
        }

        .timeline-item {
            position: relative;
            padding-left: 60px;
            margin-bottom: 40px;
        }

        .timeline-dot {
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .timeline-content {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .job-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .company {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .date-range {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 15px;
        }

        .job-description {
            margin-bottom: 15px;
        }

        .achievements {
            list-style: none;
        }

        .achievements li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .achievements li:before {
            content: "•";
            color: var(--primary-color);
            position: absolute;
            left: 0;
        }

        .education-item {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .education-item::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            width: 5px;
            height: 100%;
            background-color: var(--primary-color);
        }

        .degree {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .specialization {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .university {
            margin-bottom: 10px;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .project-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .project-image {
            height: 200px;
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
        }

        .project-content {
            padding: 25px;
        }

        .project-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .project-description {
            margin-bottom: 15px;
            color: #6b7280;
        }

        .tech-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .tech-tag {
            padding: 4px 8px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 4px;
            font-size: 12px;
        }

        .project-links {
            display: flex;
            gap: 10px;
        }

        .project-link {
            padding: 8px 16px;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .project-link:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .chat-interface {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;

        }

        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .message-content {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
        }
        .message.ai .message-content {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        [data-theme="dark"] .message.ai .message-content {
            background-color: #1e293b;
            border: 1px solid #475569;
            color: #e2e8f0;
        }

        .message.user .message-content {
            background-color: var(--primary-color);
            color: white;
            border: 1px solid var(--primary-color);
        }
        .chat-status {
            text-align: center;
            padding: 10px;
            font-size: 14px;
            color: #666;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-top: 10px;
        }
        .api-offline {
            background-color: #fff8e6;
            border: 1px solid #ffeeba;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .api-offline i {
            color: #ffc107;
            margin-right: 10px;
        }
        .typing-indicator {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            margin-bottom: 20px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: var(--primary-color);
            border-radius: 50%;
            margin: 0 3px;
            opacity: 0.6;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typingAnimation {
            0%, 100% { transform: translateY(0); opacity: 0.6; }
            50% { transform: translateY(-5px); opacity: 1; }
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding: 15px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .skills-grid {
                grid-template-columns: 1fr;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
        }
        .error-message {
            color: #ef4444;
            background-color: #fee2e2;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
        }
        
        .retry-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
            display: none;
        }
        
        .api-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            background-color: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }
        
        .api-status.checking {
            background-color: #fef3c7;
            color: #92400e;
        }

        .api-status.online {
            background-color: #d1fae5;
            color: #065f46;
        }

        .api-status.offline {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .status-dot.online {
            background-color: white;
        }
        
        .status-dot.offline {
            background-color: white;
        }
        
        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 5px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    <span class="nav-text">PDCP</span>
                </div>
                <button class="collapse-btn" onclick="toggleSidebar()">
                     <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="accent-color">
                <label class="nav-text">Accent Color</label>
                <select onchange="changeAccentColor(this.value)">
                    <option value="#3b82f6">Blue</option>
                    <option value="#ef4444">Red</option>
                    <option value="#10b981">Green</option>
                    <option value="#8b5cf6">Purple</option>
                    <option value="#f59e0b">Orange</option>
                    <option value="#ec4899">Pink</option>
                </select>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#home" class="nav-link active" onclick="showSection('home')">
                            <i class="fas fa-home"></i>
                            <span class="nav-text">Home</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#skills" class="nav-link" onclick="showSection('skills')">
                            <i class="fas fa-code"></i>
                            <span class="nav-text">Skills</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#experience" class="nav-link" onclick="showSection('experience')">
                            <i class="fas fa-briefcase"></i>
                            <span class="nav-text">Experience</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#education" class="nav-link" onclick="showSection('education')">
                            <i class="fas fa-graduation-cap"></i>
                            <span class="nav-text">Education</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#projects" class="nav-link" onclick="showSection('projects')">
                            <i class="fas fa-folder-open"></i>
                            <span class="nav-text">Projects</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="recent-searches">
                <h4>Recent Searches</h4>
                <div class="recent-search" onclick="askQuestion('What are Prathamesh\'s technical skills?')">
                    What are Prathamesh's technical skills?
                </div>
                <div class="recent-search" onclick="askQuestion('Tell me about his experience at Capgemini')">
                    Tell me about his experience at Capgemini
                </div>
            </div>

            <div style="margin-top: auto; text-align: center; padding-top: 20px;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <i class="fas fa-user-circle" style="font-size: 24px; color: var(--primary-color);"></i>
                    <span class="nav-text" style="font-size: 14px;">Prathamesh S. Damle</span>
                </div>
                <div class="nav-text" style="font-size: 12px; color: #6b7280; margin-top: 5px;">
                    PDCP - Prathamesh's Dynamic Career Portal
                </div>
            </div>
        </aside>

        <main class="main-content">
            <button class="theme-toggle" onclick="toggleTheme()">
                <i class="fas fa-moon"></i>
            </button>

            <!-- Home Section -->
            <section id="home" class="section">
                <div class="profile-section">
                    <div class="profile-image">
                        <img src="images/profile.jpg" alt="Prathamesh S. Damle" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                        <span class="profile-initials" id="profileInitials" style="display: none;">P D</span>
                    </div>
                    <h1 class="profile-name">Prathamesh S. Damle</h1>
                    <div class="profile-title" id="dynamicTitle">Python Lead</div>
                </div>

                <div class="chat-section">
                    <h2 class="chat-prompt">What do you want to know?</h2>
                    
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" placeholder="Ask anything..." id="mainChatInput">

                        <button class="chat-submit" onclick="submitChat()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>

                    <div class="suggested-questions">
                        <h3>Suggested Questions</h3>
                        <div class="question-chips">
                            <div class="question-chip" onclick="askQuestion('What are the interesting projects Prathamesh has worked on?')">
                                What are the interesting projects Prathamesh has worked on?
                            </div>
                            <div class="question-chip" onclick="askQuestion('What are his past experiences?')">
                                What are his past experiences?
                            </div>
                            <div class="question-chip" onclick="askQuestion('What kind of opportunities is he looking for?')">
                                What kind of opportunities is he looking for?
                            </div>
                            <div class="question-chip" onclick="askQuestion('Which school did he attend?')">
                                Which school did he attend?
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="stat-number">3+ years</div>
                        <div>Professional Experience</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-number">25+ ETL</div>
                        <div>Jobs Designed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-number">8 hours</div>
                        <div>Weekly Volunteering</div>
                    </div>
                </div>

                <div class="social-links">
                    <a href="mailto:pdamle@buffalo.edu" class="social-link">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://linkedin.com/in/prathamesh-damle" class="social-link" target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://github.com/prathamesh-damle" class="social-link" target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="tel:+17164150296" class="social-link">
                        <i class="fas fa-phone"></i>
                    </a>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="section hidden">
                <h2 style="text-align: center; margin-bottom: 40px; font-size: 32px;">My Skills</h2>
                
                <div class="skills-grid">
                    <div class="skill-category">
                        <h3>Programming Languages</h3>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-code"></i></div>
                            <div class="skill-info">
                                <h4>Python</h4>
                                <div class="skill-level">Expert</div>
                                <div class="skill-years">3+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-database"></i></div>
                            <div class="skill-info">
                                <h4>SQL</h4>
                                <div class="skill-level">Advanced</div>
                                <div class="skill-years">3+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-cog"></i></div>
                            <div class="skill-info">
                                <h4>C</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fab fa-js-square"></i></div>
                            <div class="skill-info">
                                <h4>JavaScript</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fab fa-r-project"></i></div>
                            <div class="skill-info">
                                <h4>R</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">1+ years</div>
                            </div>
                        </div>
                    </div>

                    <div class="skill-category">
                        <h3>Data & Analytics Tools</h3>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-building"></i></div>
                            <div class="skill-info">
                                <h4>SAP BO & BODS</h4>
                                <div class="skill-level">Expert</div>
                                <div class="skill-years">3+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fab fa-aws"></i></div>
                            <div class="skill-info">
                                <h4>Redshift</h4>
                                <div class="skill-level">Advanced</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-chart-bar"></i></div>
                            <div class="skill-info">
                                <h4>Tableau</h4>
                                <div class="skill-level">Advanced</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-chart-pie"></i></div>
                            <div class="skill-info">
                                <h4>Power BI</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">1+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fab fa-aws"></i></div>
                            <div class="skill-info">
                                <h4>AWS</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                    </div>

                    <div class="skill-category">
                        <h3>Machine Learning & AI</h3>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-robot"></i></div>
                            <div class="skill-info">
                                <h4>Machine Learning</h4>
                                <div class="skill-level">Advanced</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-network-wired"></i></div>
                            <div class="skill-info">
                                <h4>Deep Learning</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">1+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-comment-dots"></i></div>
                            <div class="skill-info">
                                <h4>NLP</h4>
                                <div class="skill-level">Advanced</div>
                                <div class="skill-years">2+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-eye"></i></div>
                            <div class="skill-info">
                                <h4>Computer Vision</h4>
                                <div class="skill-level">Intermediate</div>
                                <div class="skill-years">1+ years</div>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-icon"><i class="fas fa-chart-area"></i></div>
                            <div class="skill-info">
                                <h4>Data Science</h4>
                                <div class="skill-level">Expert</div>
                                <div class="skill-years">3+ years</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Experience Section -->
            <section id="experience" class="section hidden">
                <h2 style="text-align: center; margin-bottom: 40px; font-size: 32px;">Work Experience</h2>
                
                <div class="experience-timeline">
                    <div class="timeline-item">
                        <div class="timeline-dot">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="job-title">Teaching Assistant for Data Modification Query Language (SQL)</h3>
                            <div class="company">State University of New York, Buffalo</div>
                            <div class="date-range">July 2025 - Present</div>
                            <div class="job-description">
                                Working under Dr. Shamsad Parvin, assisting students with SQL coursework and database concepts.
                            </div>
                            <ul class="achievements">
                                <li>Assist with grading work of students and providing detailed feedback</li>
                                <li>Host office hours and resolve students' subject-related queries and difficulties</li>
                                <li>Support course instruction and curriculum development</li>
                            </ul>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="job-title">Associate (Python Lead)</h3>
                            <div class="company">Capgemini India Pvt. Ltd.</div>
                            <div class="date-range">September 2021 - December 2024</div>
                            <div class="job-description">
                                <strong>Project:</strong> GE Lighting – Savant Company
                            </div>
                            <ul class="achievements">
                                <li>Worked with Python, SQL, Redshift, and related frameworks for data processing</li>
                                <li>Performed sentiment Analysis using NLP on the data gathered by CRMs</li>
                                <li>Utilized complex SQL queries and views for data extraction, transformation, and loading processes</li>
                                <li>Implemented Python for various tasks, including Flask-based web development, API creation, and AWS connectivity</li>
                                <li>Worked as an admin for SAP tools like Business Objects and Data Services</li>
                                <li>Designed 25 ETL jobs to move data from Warehouse to Hana Custom tables</li>
                                <li>Created, Scheduled and Delivered over 20 Webi reports</li>
                                <li>Executed POC for new ETL tool, Tableau, SAP Lumira and worked with AWS Copy/Unload</li>
                            </ul>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="timeline-content">
                            <h3 class="job-title">Founder, Director</h3>
                            <div class="company">Teraluna Tech Ventures (vlink) LLP</div>
                            <div class="date-range">February 2018 - June 2021</div>
                            <div class="job-description">
                                Founded and led a technology venture focused on recruitment solutions and workforce development.
                            </div>
                            <ul class="achievements">
                                <li>Developed a platform based on 'hiring score' (like credit score) to reduce offer shopping in recruitment</li>
                                <li>Established foundational processes for business operations and automated them</li>
                                <li>Closed high ticket clients and delivered quality workforce to conglomerates and unicorn businesses</li>
                                <li>Delivered technology trainings through weekly workshops to grad students (2021-2022)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Education Section -->
            <section id="education" class="section hidden">
                <h2 style="text-align: center; margin-bottom: 40px; font-size: 32px;">Education</h2>
                
                <div class="education-item">
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary-color), #8b5cf6); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            <div class="education-icon">
                                <i class="fas fa-user-graduate"></i>  <!-- Master's Degree -->
                            </div>
                        </div>
                        <div>
                            <h3 class="degree">Master of Science (MS) in Computer Science and Engineering</h3>
                            <div class="specialization">Data Science & Machine Learning</div>
                            <div class="university">State University of New York, Buffalo</div>
                            <div class="date-range">📅 January 2025 - Present</div>
                        </div>
                    </div>
                    <div>
                        <h4>🏆 Achievements</h4>
                        <ul class="achievements">
                            <li>Teaching Assistant for SQL course under Dr. Shamsad Parvin</li>
                            <li>Focus on Advanced Machine Learning and Data Analytics</li>
                            <li>Active participant in research projects and academic collaborations</li>
                        </ul>
                    </div>
                </div>

                <div class="education-item">
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary-color), #8b5cf6); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            <div class="education-icon">
                                <i class="fas fa-graduation-cap"></i>  <!-- Bachelor's Degree -->
                            </div>
                        </div>
                        <div>
                            <h3 class="degree">Bachelor of Engineering (BE) in Electronics & Telecommunication</h3>
                            <div class="specialization">OOP & DBMS Coursework</div>
                            <div class="university">Pillai College of Engineering, Mumbai University</div>
                            <div class="date-range">📅 August 2017 - June 2021</div>
                        </div>
                    </div>
                    <div>
                        <h4>🏆 Achievements</h4>
                        <ul class="achievements">
                            <li>CGPA: 8.79/10</li>
                            <li>Published research paper at CTFC (national level conference)</li>
                            <li>Paper also published in IEEE magazine edition</li>
                            <li>Founded Teraluna Tech Ventures during final year</li>
                            <li>Completed multiple software development projects</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="section hidden">
                <h2 style="text-align: center; margin-bottom: 40px; font-size: 32px;">Projects</h2>
                
                <div class="projects-grid">
                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-user-injured"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Fall Detection using Active Learning</h3>
                            <p class="project-description">
                                Implemented an OpenAI CLIP-based VadCLIP framework with Active Learning loop for real-time fall detection. Used PyTorch, OpenCV, and Flask to create an end-to-end solution.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">Python</span>
                                <span class="tech-tag">PyTorch</span>
                                <span class="tech-tag">OpenCV</span>
                                <span class="tech-tag">Flask</span>
                                <span class="tech-tag">SQLite</span>
                                <span class="tech-tag">CLIP</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-external-link-alt"></i> Demo
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Smart Attendance System using Facial Recognition</h3>
                            <p class="project-description">
                                Developed a facial recognition attendance system using Multi-Task Convoluted Neural Network (MT-CNN). Published research paper at CTFC conference and IEEE magazine.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">Python</span>
                                <span class="tech-tag">Tkinter</span>
                                <span class="tech-tag">PyQt</span>
                                <span class="tech-tag">SQLite</span>
                                <span class="tech-tag">MT-CNN</span>
                                <span class="tech-tag">Computer Vision</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-file-alt"></i> Paper
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Vardhan Volunteer Management Website</h3>
                            <p class="project-description">
                                Created a comprehensive website to manage and recruit volunteers for Vardhan NGO. Includes automated processes and tracking systems.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">HTML5</span>
                                <span class="tech-tag">CSS3</span>
                                <span class="tech-tag">JavaScript</span>
                                <span class="tech-tag">Bootstrap</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-external-link-alt"></i> Live
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Hall Booking & Management System</h3>
                            <p class="project-description">
                                Developed a complete hall booking and management system with sports management features using C# and .NET framework.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">C#</span>
                                <span class="tech-tag">.NET</span>
                                <span class="tech-tag">SQL Server</span>
                                <span class="tech-tag">ASP.NET</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-external-link-alt"></i> Demo
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">Baseball Mario Game</h3>
                            <p class="project-description">
                                Developed a basic 'Baseball Mario' game with 3 levels using Python. Features game mechanics, scoring system, and progressive difficulty.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">Python</span>
                                <span class="tech-tag">Pygame</span>
                                <span class="tech-tag">Game Development</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-play"></i> Play
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="project-card">
                        <div class="project-image">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">IoT Home Automation</h3>
                            <p class="project-description">
                                Implemented Internet of Things (IoT) based home automation system with remote control capabilities and smart device integration.
                            </p>
                            <div class="tech-tags">
                                <span class="tech-tag">IoT</span>
                                <span class="tech-tag">Arduino</span>
                                <span class="tech-tag">Sensors</span>
                                <span class="tech-tag">WiFi</span>
                                <span class="tech-tag">Mobile App</span>
                            </div>
                            <div class="project-links">
                                <a href="#" class="project-link">
                                    <i class="fas fa-code"></i> Code
                                </a>
                                <a href="#" class="project-link">
                                    <i class="fas fa-video"></i> Demo
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Chat Interface -->
            <div id="chatInterface" class="chat-interface hidden">
                <div class="chat-header">
                    <h3>Chat with Prathamesh's AI Assistant</h3>
                    <button class="chat-close-btn" onclick="closeChatInterface()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message">
                        <div class="message-avatar">P</div>
                        <div class="message-content">
                            Hi! I'm Prathamesh's AI assistant. Feel free to ask me anything about his background, experience, skills, or projects. I'm here to help you learn more about him!
                        </div>
                    </div>
                    <div class="conversation-starter">
                        <p>Try asking:</p>
                        <div>
                            <span class="suggested-question" onclick="askQuestion('What are Prathamesh\'s technical skills?')">
                                What are Prathamesh's technical skills?
                            </span>
                            <span class="suggested-question" onclick="askQuestion('Tell me about his experience at Capgemini')">
                                Tell me about his experience at Capgemini
                            </span>
                            <span class="suggested-question" onclick="askQuestion('What projects has he worked on?')">
                                What projects has he worked on?
                            </span>
                        </div>
                    </div>
                
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" placeholder="Ask anything about Prathamesh..." id="chatInterfaceInput" onkeypress="handleChatInputKey(event)">
                    <button class="chat-submit" onclick="submitChat()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
            </div>
        </main>
    </div>
    <div class="api-status" id="apiStatusIndicator">
        <span class="status-dot" id="statusDot"></span>
        <span id="apiStatusText">API Status: Checking...</span>
    </div>
    <script>
        // Dynamic title rotation
        const titles = [
            'Python Lead',
            'Data Scientist',
            'Machine Learning Engineer',
            'Teaching Assistant',
            'Volunteer Manager',
            'Tech Entrepreneur',
            'Problem Solver',
            'Badminton Player',
            'Math Tutor',
            'Content Creator'
        ];

        // DECLARE ALL VARIABLES AT THE TOP
        let titleIndex = 0;
        let lastApiCall = 0;
        let conversationHistory = [];
        let apiOnline = false;
        let isSubmitting = false; // ← MOVED TO TOP
        const API_COOLDOWN = 2000;
        const responseCache = new Map();

        console.log("Script loaded");

        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded, initializing...");
            
            // Check API status
            checkApiStatus();
            
            // Set up chat inputs (check both possible IDs)
            const chatInput1 = document.getElementById('chatInput');
            const chatInput2 = document.getElementById('chatInterfaceInput');
            
            if (chatInput1) {
                chatInput1.addEventListener('keypress', handleEnterKey);
                console.log("✅ Main chat input listener added");
            }
            
            if (chatInput2) {
                chatInput2.addEventListener('keypress', handleEnterKey);
                console.log("✅ Interface chat input listener added");
            }
            
            // Add hover effects
            const cards = document.querySelectorAll('.stat-card, .project-card, .skill-item');
            cards.forEach(card => {
                card.addEventListener('mouseenter', () => card.style.transform = 'translateY(-5px)');
                card.addEventListener('mouseleave', () => card.style.transform = 'translateY(0)');
            });
            
            console.log("✅ DOM initialization complete");
        });

        function handleEnterKey(event) {
            if (event.key === 'Enter') {
                console.log("↩️ Enter pressed, calling submitChat");
                submitChat();
            }
        }

        async function checkApiStatus() {
            const statusElement = document.getElementById('apiStatusText');
            const statusDot = document.getElementById('statusDot');
            const apiStatusIndicator = document.getElementById('apiStatusIndicator');
            
            try {
                apiStatusIndicator.className = "api-status checking";
                statusDot.className = "status-dot";
                statusElement.textContent = "API Status: Checking...";
                
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ question: "Hello" })
                });
                
                if (response.ok) {
                    apiOnline = true;
                    apiStatusIndicator.className = "api-status online";
                    statusDot.className = "status-dot online";
                    statusElement.textContent = "API Status: Online";
                } else {
                    const errorText = await response.text();
                    console.error("Backend API Error Details:", {
                        status: response.status,
                        statusText: response.statusText,
                        body: errorText
                    });
                    apiOnline = false;
                    apiStatusIndicator.className = "api-status offline";
                    statusDot.className = "status-dot offline";
                    statusElement.textContent = `API Status: Error ${response.status}`;
                }
            } catch (error) {
                apiOnline = false;
                apiStatusIndicator.className = "api-status offline";
                statusDot.className = "status-dot offline";
                statusElement.textContent = "API Status: Connection Failed";
                console.error("Backend Connection Error:", error);
            }
        }

        function handleChatInputKey(event) {
            if (event.key === 'Enter') {
                submitChat();
            }
        }

        function getCachedResponse(question) {
            const key = question.toLowerCase().trim();
            return responseCache.get(key);
        }

        function cacheResponse(question, response) {
            const key = question.toLowerCase().trim();
            responseCache.set(key, response);
        }

        function rotateTitles() {
            const titleElement = document.getElementById('dynamicTitle');
            titleElement.style.opacity = '0';
            
            setTimeout(() => {
                titleElement.textContent = titles[titleIndex];
                titleElement.style.opacity = '1';
                titleIndex = (titleIndex + 1) % titles.length;
            }, 300);
        }

        // Start title rotation
        setInterval(rotateTitles, 3000);

        // Theme toggle
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle i');
            
            if (body.hasAttribute('data-theme')) {
                body.removeAttribute('data-theme');
                themeToggle.className = 'fas fa-moon';
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.className = 'fas fa-sun';
            }
        }

        function closeChatInterface() {
            document.getElementById('chatInterface').classList.add('hidden');
            document.getElementById('home').classList.remove('hidden');
            
            // Update active nav link back to home
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector('a[href="#home"]').classList.add('active');
        }

        // Sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const icon = document.querySelector('.collapse-btn i');

            sidebar.classList.toggle('collapsed');
            
            if (sidebar.classList.contains('collapsed')) {
                icon.className = 'fas fa-bars';
            } else {
                icon.className = 'fas fa-times';
            }
        }

        // Accent color change
        function changeAccentColor(color) {
            document.documentElement.style.setProperty('--primary-color', color);
        }

        function showInitials() {
            const img = document.querySelector('.profile-image img');
            const initials = document.getElementById('profileInitials');
            
            img.style.display = 'none';
            initials.style.display = 'block';
        }

        // Navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Hide chat interface
            document.getElementById('chatInterface').classList.add('hidden');
            
            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            event.target.closest('.nav-link').classList.add('active');
        }

        // Groq API call
        async function queryGroqAPI(question) {
            const now = Date.now();
            if (now - lastApiCall < API_COOLDOWN) {
                return getLocalResponse(question);
            }
            lastApiCall = now;
            
            const cached = getCachedResponse(question);
            if (cached) {
                return cached;
            }
            
            try {
                showTypingIndicator();
                
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ question })
                });
                
                removeTypingIndicator();
                
                if (response.ok) {
                    const result = await response.json();
                    const answer = result.choices[0].message.content;
                    cacheResponse(question, answer);
                    return answer;
                } else {
                    console.error("Backend API Error:", response.status);
                    return getLocalResponse(question);
                }
                
            } catch (error) {
                console.error("Backend connection failed:", error);
                removeTypingIndicator();
                return getLocalResponse(question);
            }
        }

        function getLocalResponse(question) {
            const q = question.toLowerCase();
            
            if (q.includes('do now') || q.includes('current') || q.includes('currently')) {
                return "Currently, Prathamesh is pursuing his MS in Computer Science at SUNY Buffalo and working as a Teaching Assistant for SQL courses. He also continues his volunteer work with Vardhan NGO, teaching underprivileged children.";
            } else if (q.includes('experience') || q.includes('work') || q.includes('job') || q.includes('capgemini')) {
                return "Prathamesh has 3+ years of professional experience. He worked at Capgemini as a Python Lead from 2021-2024, where he designed ETL jobs and performed sentiment analysis using NLP. He also founded Teraluna Tech Ventures, a recruitment technology startup.";
            } else if (q.includes('skill') || q.includes('technical') || q.includes('python') || q.includes('sql')) {
                return "Prathamesh's technical skills include Python (expert), SQL (advanced), Machine Learning, Data Science, NLP, SAP BO/BODS, Tableau, and AWS. He has 3+ years of experience with Python and SQL, and 2+ years with machine learning and data visualization tools.";
            } else if (q.includes('education') || q.includes('degree') || q.includes('school')) {
                return "Prathamesh holds a Bachelor's in Electronics & Telecommunication from Pillai College of Engineering (Mumbai University) and is currently pursuing a Master's in Computer Science at SUNY Buffalo, specializing in Data Science and Machine Learning.";
            } else if (q.includes('project') || q.includes('work on') || q.includes('built')) {
                return "Some of Prathamesh's notable projects include: 1) Fall Detection using Active Learning (PyTorch, OpenCV), 2) Smart Attendance System with facial recognition (published in IEEE), 3) Volunteer Management Website for Vardhan NGO, and 4) IoT Home Automation system.";
            } else if (q.includes('volunteer') || q.includes('ngo') || q.includes('community')) {
                return "Prathamesh is a Volunteer Manager at Vardhan NGO, where he teaches underprivileged children for 8 hours weekly. He manages 25+ volunteers and has established automated management processes for the organization.";
            } else if (q.includes('contact') || q.includes('email') || q.includes('phone') || q.includes('reach')) {
                return "You can contact Prathamesh via email at pdamle@buffalo.edu, phone at +1 716 4150296, or connect with him on LinkedIn and GitHub.";
            } else if (q.includes('hello') || q.includes('hi') || q.includes('hey')) {
                return "Hello! I'm Prathamesh's AI assistant. How can I help you learn about his professional background?";
            } else {
                return "I can help you learn about Prathamesh's experience, skills, education, projects, and volunteering work. What specific information are you looking for?";
            }
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">P</div>
                <div class="message-content">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function askQuestion(question) {
            let input = document.getElementById('chatInterfaceInput') || document.getElementById('chatInput');
            if (input) {
                input.value = question;
                submitChat();
            }
        }

        async function submitChat() {
            console.log("🔄 submitChat() called");
            if (isSubmitting) {
                console.log("⏳ Already submitting, skipping");
                return;
            }
            
            isSubmitting = true;
            
            // Find ANY available input
            let input = document.getElementById('chatInput') || document.getElementById('chatInterfaceInput');
            
            if (!input) {
                console.error("❌ No chat input found");
                isSubmitting = false;
                return;
            }
            
            const question = input.value.trim();
            console.log("❓ Question:", question);
            
            if (!question) {
                console.log("❌ Empty question, returning");
                isSubmitting = false;
                return;
            }
            
            showChatInterface();
            addMessage(question, 'user');
            
            try {
                const response = await queryGroqAPI(question);
                addMessage(response, 'ai');
            } catch (error) {
                removeTypingIndicator();
                addMessage("I'm experiencing high traffic. Let me answer from my knowledge base.", 'ai');
                const fallbackResponse = getLocalResponse(question);
                addMessage(fallbackResponse, 'ai');
            }
            
            input.value = '';
            addToRecentSearches(question);
            isSubmitting = false;
            console.log("✨ submitChat() completed");
        }

        function showChatInterface() {
            console.log("🖥️ showChatInterface() called");
            
            const chatInterface = document.getElementById('chatInterface');
            
            // If chat is already open, don't do anything
            if (!chatInterface.classList.contains('hidden')) {
                console.log("💬 Chat already open, skipping");
                return;
            }
            
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show chat interface
            chatInterface.classList.remove('hidden');
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            console.log("✅ Chat interface shown");
        }

        function addMessage(content, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = sender === 'user' ? 'Y' : 'P';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">${content}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Remove conversation starter after first message
            const starter = document.querySelector('.conversation-starter');
            if (starter) {
                starter.remove();
            }
        }

        function addToRecentSearches(question) {
            const recentSearches = document.querySelector('.recent-searches');
            const newSearch = document.createElement('div');
            newSearch.className = 'recent-search';
            newSearch.textContent = question.length > 40 ? question.substring(0, 37) + '...' : question;
            newSearch.onclick = () => askQuestion(question);
            
            // Add to top (after the h4 header)
            const header = recentSearches.querySelector('h4');
            if (header && header.nextSibling) {
                recentSearches.insertBefore(newSearch, header.nextSibling);
            } else {
                recentSearches.appendChild(newSearch);
            }
            
            // Keep only latest 2 searches (plus the header)
            const searches = recentSearches.querySelectorAll('.recent-search');
            if (searches.length > 2) {
                // Remove oldest searches beyond the 2 most recent
                for (let i = 2; i < searches.length; i++) {
                    searches[i].remove();
                }
            }
        }
    </script>
</body>
</html>
